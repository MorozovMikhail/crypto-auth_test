# CryptoAuth Frontend (React + КриптоПро)

## Описание

Это одностраничное React-приложение для авторизации пользователей с помощью сертификатов КриптоПро. Вся работа с КриптоПро реализована через локальный JS-модуль, без внешних зависимостей.

---

## Быстрый старт локально

1. Установите зависимости:
   ```bash
   npm install
   ```
2. Запустите приложение:
   ```bash
   npm start
   ```
3. Откройте [http://localhost:3000](http://localhost:3000) в браузере.

---

## Деплой на Netlify

1. **Загрузите весь проект (папку frontend) на GitHub.**
2. **Создайте новый сайт на [Netlify](https://app.netlify.com/):**
   - Выберите "Import from GitHub" и укажите ваш репозиторий.
   - В настройках сборки укажите:
     - Build command: `npm run build`
     - Publish directory: `build`
   - Netlify автоматически определит, что это React-приложение.
3. **Добавьте переменные окружения (если нужно):**
   - В разделе "Site settings" → "Environment variables" добавьте:
     - `REACT_APP_API_URL` — адрес вашего backend API (например, `https://ваш-бэкенд/api`)
   - Если переменная не задана, по умолчанию используется `http://localhost:8080/api/auth`.
4. **(Опционально) Настройте прокси для API:**
   - В файле `netlify.toml` уже прописан редирект для SPA.
   - Если нужно проксировать API-запросы, раскомментируйте и настройте блок [[redirects]] для `/api/*`.

---

## Важно
- **Backend (Java API)** должен быть доступен по сети для Netlify (например, на отдельном сервере или облаке).
- Все локальные JS-файлы (например, `src/utils/cadesplugin.js`) должны быть в репозитории.
- Если используете сертификаты с токенов, убедитесь, что на клиенте установлен КриптоПро CSP и плагин для браузера.

---

## Структура проекта

- `src/` — исходный код React-приложения
  - `components/EcpAuth.js` — основной компонент авторизации
  - `utils/cadesplugin.js` — локальный модуль КриптоПро
- `public/` — статические файлы и `index.html`
- `netlify.toml` — конфиг для Netlify
- `package.json` — зависимости и скрипты

---

## Контакты

Если возникли вопросы по деплою или интеграции — пишите! 